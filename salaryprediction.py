# -*- coding: utf-8 -*-
"""SALARYPREDICTION.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1OPrVuXM7333H_VJFDY-gjWr_bxRyWn5o
"""

import pandas as pd

data = pd.read_csv('Salary.csv')
data

data.info()

data = data.dropna()
data.isnull().sum()

data

from sklearn.preprocessing import LabelEncoder
encoder = LabelEncoder()

for col in data.columns:
  if data[col].dtype == 'object':
    data[col] = encoder.fit_transform(data[col])
data

data.columns

data.columns

import matplotlib.pyplot as plt

fig, ax = plt.subplots(1,1, figsize=(30, 20))
data.boxplot('Salary', 'Job Title', ax=ax)
plt.suptitle('Salary  v Job Title')
plt.title('')
plt.ylabel('Salary')
plt.xticks(rotation=90)
plt.show()

fig, ax = plt.subplots(1,1, figsize=(12, 7))
data.boxplot('Salary', 'Education Level', ax=ax)
plt.suptitle('Salary v Education Level')
plt.title('')
plt.ylabel('Salary')
plt.xticks(rotation=90)
plt.show()

fig, ax = plt.subplots(1,1, figsize=(12, 7))
data.boxplot('Salary', 'Years of Experience', ax=ax)
plt.suptitle('Salary  v Years of Experience')
plt.title('')
plt.ylabel('Salary')
plt.xticks(rotation=90)
plt.show()

!pip show seaborn

!pip show scikit-learn

import matplotlib.pyplot as plt
import seaborn as sns
sns.lineplot(x = 'Years of Experience', y = 'Salary', data = data)
plt.show()

plt.figure(figsize = (6,6))
plt.title('Distribution of Sex')
sex_counts = data['Gender'].value_counts()
labels = ['Male','Female']
plt.pie(sex_counts, labels = labels, autopct = '%.2f%%')
plt.show()

data['Education Level'].value_counts()
pie_data = data["Job Title"].value_counts().head(5)
pie_data.plot(kind="pie",autopct='%1.1f%%')
plt.title("Top 5 most common Jobs of Dataset")
plt.show()

sns.pairplot(data)

sns.heatmap(data.corr(), annot=True)

data['Education Level'].unique()

data.columns

x = data.drop('Salary', axis=1)
y = data['Salary']
x

y

from sklearn.model_selection import train_test_split

x_train, x_test, y_train, y_test = train_test_split(x, y,
                                                    test_size=0.3,
                                                    random_state=123)

"""**LinearRegression**"""

from sklearn.linear_model import LinearRegression

model = LinearRegression()

model.fit(x_train, y_train)

model.score(x_train, y_train)

model.score(x_test, y_test)

data.info()

"""**DecisionTreeRegressor**"""

from sklearn.tree import DecisionTreeRegressor

regressor = DecisionTreeRegressor()

regressor.fit(x_train, y_train)

regressor.score(x_train, y_train)

regressor.score(x_test, y_test)

Age = int(input('Enter Age : '))
Gen = int(input('Enter Gender : '))
exp = int(input('Enter no of years experience : '))
educ = int(input('Enter education level : '))
jobt=int(input('Enter job title : '))

import numpy as np

input_data = np.array([[Age, Gen, exp, educ, jobt]])

prediction = model.predict(input_data)[0]
print('Predicted Salary : â‚¹', prediction, 'Lakhs')

import pickle
with open('salary_prediction.pkl', 'wb') as file:
  pickle.dump(model, file)